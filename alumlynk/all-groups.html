<!DOCTYPE html>
<html lang="en" class="no-js">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Sport Social App </title>
    <link rel="shortcut icon" href="../favicon.ico">

    <!--   CSS  -->
    <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="./font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="flags/build/css/intlTelInput.css">
    <link rel="stylesheet" href="flags/build/css/demo.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/g/jquery.owlcarousel@1.31(owl.carousel.css+owl.theme.css)">
    <link rel="stylesheet" type="text/css" href="css/css.css">


    <!--   JS   -->
    <script src="./jquery/3.5.1/jquery.min.js"></script>
    <script src="./popper/popper.min.js"></script>
    <script src="./bootstrap/js/bootstrap.min.js"></script>

    <script src="./js/modernizr.custom.js"></script>
    <script src="./js/jquery.owlcarousel.js"></script>
    <link rel="stylesheet" href="css/alertify.min.css" />
    <script src="js/alertify.min.js"></script>


<!--	<meta charset="UTF-8" />-->
<!--	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">-->
<!--	<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--	<title> Sport Social App </title>-->
<!--	<link rel="shortcut icon" href="../favicon.ico">-->

<!--	&lt;!&ndash;   CSS  &ndash;&gt;-->
<!--	<link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css">-->
<!--	<link rel="stylesheet" href="./font-awesome/4.7.0/css/font-awesome.min.css">-->

<!--	<link rel="stylesheet" href="flags/build/css/intlTelInput.css">-->
<!--	<link rel="stylesheet" href="flags/build/css/demo.css">-->
<!--	<link rel="stylesheet" href="https://cdn.jsdelivr.net/g/jquery.owlcarousel@1.31(owl.carousel.css+owl.theme.css)">-->
<!--	<link rel="stylesheet" type="text/css" href="css/css.css">-->

</head>

<body>
	<div class="wrapper gray-wrapper">
		<div class="container full-container">
			<div class="header">
				<div id="gn-menu" class="gn-menu-main">
					<div class="row ss-nav pad-0 mx-0">
					  <!-- <div class="">
										<li class="com-name login-logo"><span class="com-l com-l-index"><img src="images/logo.png" class="com-logo"></span></li>
									</div> -->
						<a href="my-posts.html">
							<div class="nav-logo text-success">                
								<img src="./images/ss-square-logo.jpg" />				
							  </div>
						</a>             
					  
					  <span class="top-nav-icon">
						<a href="friends-search.html">
						  <img
							src="./images/svg000-search.svg"
							height="25"
							width="25"
						  />
						</a>
					  </span>
					  <span class="top-nav-icon">
						<a href="calendar.html">
						  <img
							src="./images/svg000-calendar.svg"
							height="25"
							width="25"
						  />
						  <span class="counter-top-nav">0</span>
						</a>
					  </span>
					  <span class="top-nav-icon">
						<a href="chat-list-recent.html">
						  <img
							src="./images/svg000-message.svg"
							height="25"
							width="25"
						  />
						  <span class="counter-top-nav">0</span>
						</a>
					  </span>
					  <span class="py-1 profile-dropdown" id="top-profile-drop">
						<div id="secondarySideNav"></div>
					  </span>
					  <div class="nav-toggler">
						<span
						  data-toggle="toggle"
						  data-target="#demo"
						  class="gn-trigger sub-header-icon text-center"
						  ><a href="javascript:void(0)" class="gn-burger"
							><i class="fa fa-bars fs-30 text-center"></i></a
						></span>
						<div id="side-nav"></div>
					  </div>
					</div>
				</div>
			</div>

			<div class="content c-home top-60">
				<div class="intro">
					<div class="row nmarg">
						<div class="col-lg-2 col-md-2 col-sm-2 col-xs-12"></div>
						<div class="col-lg-8 col-md-8 col-sm-8 col-xs-12 npad">
							<div class="bg-white timeline-wrap">
								<span class="p-1">
									<a href="my-posts.html" class="text-dark font-weight-bold">Sport<br> Posts</a>
								</span>
								<span class="p-1">
									<a href="sport-friends.html" class="text-dark font-weight-bold">Sport<br>
										Friends</a>
								</span>								
								<span class="p-1">
									<a href="sport-matches.html" class="text-dark font-weight-bold">Sport<br>
										Matches</a>
								</span>
								<!-- <span class="p-1">
									<a href="sport-places.html" class="text-dark font-weight-bold">Sport<br> Places</a>
								</span>
								<span class="p-1">
									<a href="sport-coaches.html" class="text-dark font-weight-bold">Sport<br> Coach</a>
								</span> -->
							</div>
							<div class="bg-white timeline-wrap">
								<span class="p-1"></span>
								<span class="p-1">
									<a href="all-groups.html" class="text-success font-weight-bold">Find<br> Groups</a>
								</span>
								<span class="p-1">
									<a href="sport-groups.html" class="text-dark font-weight-bold">Your<br>
										Groups</a>
								</span>
								<span class="p-1">
									<a href="create-group.html" class="text-dark font-weight-bold">Create<br>Groups</a>
								</span>
								<span class="p-1"></span>
							</div>

							<div class="justify-content-between px-2 py-3 d-flex bg-white">
                                <button class="btn btn-primary br-10 bg-dark p-1"><i class="fa fa-chevron-left"></i> Back</button>
                                <span class="ml-5 px-2"><h6>All Groups </h6></span>
                                <a href="create-group.html" class="px-2">Create Group</a>
                            </div> 

							<div class="bg-white rounded block-area mb-60">
								<div class="d-flex mt-3">
									<h5 class="w-100">Suggested for you</h5>
								</div>
                                <div id="suggested-group"></div>
								<hr class="m-0">
								<div class="p-1">
									<div class="media media-friend-tab p-1">
										<img class="mr-3" src="./images/img03.jpg" alt="Generic placeholder image">
										<div class="media-body">
											<div class="justify-content-between d-flex">
												<span>
													<h6 class="mt-0 "><a href="#">{Group name}</a></h6>
												</span>
												<span><button class="btn btn-secondary">Join</button></span>
											</div>
											<div class="d-block text-black-50">
												<div>
													<span>2.1k Members</span>
													<span class="fs-45">.</span>
													<span>8 posts a week</span>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="w-100">
									<button class="btn btn-secondary w-100">See All</button>
								</div>
								<div class="d-flex mt-3">
									<h5 class="w-100">Friends' Groups</h5>
								</div>
                                <div id="myfriends-group"></div>
								<hr class="m-0">
								<div class="p-1">
									<div class="media media-friend-tab p-1">
										<img class="mr-3" src="./images/img03.jpg" alt="Generic placeholder image">
										<div class="media-body">
											<div class="justify-content-between d-flex">
												<span>
													<h6 class="mt-0 "><a href="#">{Group name}</a></h6>
												</span>
												<span><button class="btn btn-secondary">Join</button></span>
											</div>
											<div class="d-block text-black-50">
												<div>
													<span>2.1k Members</span>
													<span class="fs-45">.</span>
													<span>8 posts a week</span>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="w-100">
									<button class="btn btn-secondary w-100">See All</button>
								</div>
								<div class="d-flex mt-3">
									<h5 class="w-100">Popular Near You</h5>
								</div>
                                <div id="popular-group"></div>

								<hr class="m-0">
								<div class="p-1">
									<div class="media media-friend-tab p-1">
										<img class="mr-3" src="./images/img03.jpg" alt="Generic placeholder image">
										<div class="media-body">
											<div class="justify-content-between d-flex">
												<span>
													<h6 class="mt-0 "><a href="#">{Group name}</a></h6>
												</span>
												<span><button class="btn btn-secondary">Join</button></span>
											</div>
											<div class="d-block text-black-50">
												<div>
													<span>2.1k Members</span>
													<span class="fs-45">.</span>
													<span>8 posts a week</span>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="w-100">
									<button class="btn btn-secondary w-100">See All</button>
								</div>
							</div>

						</div>
						<div class="col-lg-2 col-md-2 col-sm-2 col-xs-12"></div>
					</div>


				</div><!-- /intro -->
			</div><!-- /content -->
		</div><!-- /container -->
	</div> <!-- /wrapper -->

	<div id="bottom-nav"></div>

	 <script src="js/classie.js"></script>
	<script src="js/gnmenu.js"></script><script src="js/general-friend-request.js"></script>
    <script src="js/general-friend-request.js"></script>
    <script src="js/sports-social/statistics.js"></script>
    <script src="js/main.js"></script>

    <script>
        $('document').ready(function (){
            allGroups();
        });

        function allGroups(){

            var parameters = '';
            var url        = app_url+'all-groups?loginuser='+window.localStorage.getItem("loginuser");
            var method     = 'GET';
            var param      = CallMethod(method, url, onSuccessAllGroups, parameters);
            function onSuccessAllGroups(param){

                if (param.data.login_error_status === '1') {
                    showExpireAlert('session-expire');
                    session(param.data);
                } else {

                    console.log(param);
                    var suggested_group_html = '';


                    $.each(param.data.suggestedGroups, function (key, value) {
                        if (!isEmpty(value.groups)) {
                            $.each(value.groups, function (key, value) {
                                suggested_group_html += '<hr class="m-0"> <div class="p-1"> <div class="media media-friend-tab p-1"> <img class="mr-3" src="' + value.profile_pic_url + '" alt="Generic placeholder image"> <div class="media-body"> <div class="justify-content-between d-flex"> <span> <h6 class="mt-0 "><a href="javascript:void(0);"  onclick="group('+ value.id +');">' + (!isEmpty(value.name) ? value.name : " ") + '</a></h6> </span> <span><button class="btn btn-secondary" onclick="joinGroup(`'+ value.id + '`,`' + value.owner  +'`);">Join</button></span> </div> <div class="d-block text-black-50"> <div> <span>'+ ( !isEmpty(value.count_group_members)? value.count_group_members : "" ) +' Members</span> <span class="fs-45">.</span> <span>8 posts a week</span> </div> </div> </div> </div> </div>';
                                // suggested_group_html += '<hr class="m-0"> <div class="p-1"> <div class="media media-friend-tab p-1"> <img class="mr-3" src="' + value.profile_pic_url + '" alt="Generic placeholder image"> <div class="media-body"> <h6 class="mt-0 "><a href="javascript:void(0);" onclick="mypage('+ value.id +');" >' + (!isEmpty(value.name) ? value.name : " ") + '</a></h6> <div class="d-block text-black-50"> <div>Updated yesterday</div> </div> </div> </div> </div>';

                            });
                        }

                    });
                    $('#suggested-group').html(suggested_group_html);
                    $('#popular-group').html(suggested_group_html);

                    var myFriends_group_html = '';
                    $.each(param.data.myFriendsGroups['0'].isFriendsWith, function (key, value) {
                        if (!isEmpty(value.groups)) {

                            $.each(value.groups, function (key, value) {
                                myFriends_group_html += '<hr class="m-0"> <div class="p-1"> <div class="media media-friend-tab p-1"> <img class="mr-3" src="' + value.profile_pic_url + '" alt="Generic placeholder image"> <div class="media-body"> <div class="justify-content-between d-flex"> <span> <h6 class="mt-0 "><a  href="javascript:void(0);"  onclick="group('+ value.id +');">' + (!isEmpty(value.name) ? value.name : " ") + '</a></h6> </span> <span><button class="btn btn-secondary"  onclick="joinGroup(`'+ value.id + '`,`' + value.owner  +'`);">Join</button></span> </div> <div class="d-block text-black-50"> <div> <span>'+ ( !isEmpty(value.count_group_members)? value.count_group_members : "" ) +' Members</span> <span class="fs-45">.</span> <span>8 posts a week</span> </div> </div> </div> </div> </div>';

                                // myFriends_group_html += '<hr class="m-0"> <div class="p-1"> <div class="media media-friend-tab p-1"> <img class="mr-3" src="' + value.profile_pic_url + '" alt="Generic placeholder image"> <div class="media-body"> <h6 class="mt-0 "><a href="javascript:void(0);" onclick="mypage('+ value.id +');" >' + (!isEmpty(value.name) ? value.name : " ") + '</a></h6> <div class="d-block text-black-50"> <div>Updated yesterday</div> </div> </div> </div> </div>';
                            });

                        }
                    });
                    $.each(param.data.myFriendsGroups['0'].myfriends, function (key, value) {
                        if (!isEmpty(value.groups)) {

                            $.each(value.groups, function (key, value) {
                                myFriends_group_html += '<hr class="m-0"> <div class="p-1"> <div class="media media-friend-tab p-1"> <img class="mr-3" src="' + value.profile_pic_url + '" alt="Generic placeholder image"> <div class="media-body"> <div class="justify-content-between d-flex"> <span> <h6 class="mt-0 "><a  href="javascript:void(0);"  onclick="group('+ value.id +');">' + (!isEmpty(value.name) ? value.name : " ") + '</a></h6> </span> <span><button class="btn btn-secondary"  onclick="joinGroup(`'+ value.id + '`,`' + value.owner  +'`);"  >Join</button></span> </div> <div class="d-block text-black-50"> <div> <span>'+ ( !isEmpty(value.count_group_members)? value.count_group_members : "" ) +' Members</span> <span class="fs-45">.</span> <span>8 posts a week</span> </div> </div> </div> </div> </div>';
                                // myFriends_group_html += '<hr class="m-0"> <div class="p-1"> <div class="media media-friend-tab p-1"> <img class="mr-3" src="' + value.profile_pic_url + '" alt="Generic placeholder image"> <div class="media-body"> <h6 class="mt-0 "><a href="javascript:void(0);" onclick="mypage('+ value.id +');">' + (!isEmpty(value.name) ? value.name : " ") + '</a></h6> <div class="d-block text-black-50"> <div>Updated yesterday</div> </div> </div> </div> </div>';
                            });

                        }
                    });


                    $('#myfriends-group').html(myFriends_group_html);




                    // console.log(myFriends_page_html);
                }
            }



        }



        function joinGroup(groupId, ownerId){



                var parameters = '';
                var data       =  "group_id="+ groupId + "&owner_id=" + ownerId + "&loginuser="+window.localStorage.getItem("loginuser") + "&user_id="+window.localStorage.getItem("loginuser");
                var url        = app_url+'join-group?'+data;

                var method     = 'POST';
                var param      = CallMethod(method, url, onSuccessJoinGroup, parameters);
                function onSuccessJoinGroup(param){


                    if(param.data.message_status == true){

                        $.each(param.data.messages, function(key, value){
                            showAlertMessage(type = 'success', String(value));
                        });

                    }
                }
        }

    </script>

    <script>
		$('.popover-dismiss').popover({
			trigger: 'focus'
		})
		$(function () {
			$('[data-toggle="popover"]').popover()
		})
	</script>
	<script>
		// js for secondary navigation
		$("[data-toggle='toggle']").click(function () {
			var selector = $(this).data("target");
			$(selector).toggleClass('in');
		});
		function showSearchField() {
			$(".ss-profile-name").fadeOut(0);
			setTimeout($(".ss-search-input input").fadeIn(1000), 1000)
		}

		new gnMenu(document.getElementById('gn-menu'));
	</script>
</body>

</html>
